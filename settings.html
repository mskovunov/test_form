<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ñ€Ğ¾Ğ·ÑĞ¸Ğ»ĞºĞ¸</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ¼ĞµĞ½Ñ -->
        <button class="menu-button" onclick="toggleMenu()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 6H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 12H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 18H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>

        <div class="form-wrapper">

            <!-- Ğ‘Ğ¾ĞºĞ¾Ğ²Ğ¾Ğµ Ğ¼ĞµĞ½Ñ (Ğ£Ğ±Ñ€Ğ°Ğ½Ğ¾, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¸Ğ·Ğ±ĞµĞ¶Ğ°Ñ‚ÑŒ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ°) -->
            <div class="side-menu" id="sideMenu">
                <button class="close-button" onclick="toggleMenu()">âŒ</button>
                <ul>
                    <li><a href="index.html">ğŸ  Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ½Ğ°</a></li> 
                    <li><a href="history.html">ğŸ“œ Ğ†ÑÑ‚Ğ¾Ñ€Ñ–Ñ</a></li> 
                    <li><a href="stats.html">ğŸ“ˆ Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°</a></li>
                    <li><a href="settings.html">âš™ï¸ ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ</a></li>
                    <li><a href="#" onclick="closeWebView()">ğŸšª Ğ’Ğ¸Ñ…Ñ–Ğ´</a></li>
                </ul>
                <button type="button" class="theme-toggle" onclick="toggleTheme()">ğŸŒ“ Ğ—Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ñ‚ĞµĞ¼Ñƒ</button>
            </div>

            <!-- ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğµ ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ -->
            <h2>Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ– Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ</h2>

Â  Â  Â  Â  Â  Â  <!-- configStatus Ğ‘Ğ«Ğ› Ğ—Ğ”Ğ•Ğ¡Ğ¬ -->
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="configTableContainer" style="margin-top: 20px; text-align: left;">
Â  Â  Â  Â  Â  Â  Â  Â  <!-- Ğ¡ÑĞ´Ğ° Ğ±ÑƒĞ´ĞµÑ‚ Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶ĞµĞ½Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° -->
Â  Â  Â  Â  Â  Â  </div>
            
            <!-- Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ•: ĞŸĞ•Ğ Ğ•ĞœĞ•Ğ©Ğ•ĞĞĞ«Ğ™ configStatus -->
            <div id="configStatus" class="status-message" style="text-align: center; margin-top: 20px;"></div>
Â  Â  Â  Â  Â  Â Â 
            
            <!-- Ğ’ĞµÑ€ÑĞ¸Ñ ÑĞ±Ğ¾Ñ€ĞºĞ¸ -->
            <p id="buildVersion" style="margin-top: 20px; font-size: 0.75rem; color: #999; text-align: center;"></p>
            
        </div>
    </div>

    <script>
        const WEBAPP_URL = 'https://script.google.com/macros/s/AKfycbxiFpwrkbINal0wGhPxMy0wd452HF3Q64yPqXyntLG9HC7gIus6zY2hQoqrcWH_EROf/exec';
        
        // --- Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ ---
        function toggleTheme() {
            const isDark = document.body.classList.toggle('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        function toggleMenu() {
            const menu = document.getElementById("sideMenu");
            menu.classList.toggle("open");
        }

        function closeWebView() {
            console.log("Attempting to close WebView...");
            if (typeof Android !== 'undefined' && Android.closeApp) {
                Android.closeApp();
            } else {
                console.warn("Native Android closeApp interface not found. Cannot close application.");
            }
        }

        /* --- ĞĞĞ’Ğ«Ğ• Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ˜: ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Email Ğ¸ PUSH --- */
        
        // --- ĞĞ±Ñ‰Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ° Ğ½Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ---
        async function updateConfigStatus(sheetRow, currentFlag, targetColumn, event) {
            // targetColumn: 5 Ğ´Ğ»Ñ Email (E) Ğ¸Ğ»Ğ¸ 6 Ğ´Ğ»Ñ PUSH (F)
            
            // ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµĞ¼ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ ĞºĞ»Ğ¸ĞºĞ° Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ€Ğ°Ğ·
Â  Â  Â  Â  Â  Â  if (event.target.classList.contains('status-loading')) return;

Â  Â  Â  Â  Â  Â  const statusDiv = document.getElementById('configStatus');
Â  Â  Â  Â  Â  Â  const newStatus = currentFlag === '1' ? '0' : '1';
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Ğ’ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ½Ğ° ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚Ğµ
Â  Â  Â  Â  Â  Â  const indicator = event.target;
Â  Â  Â  Â  Â  Â  const originalHTML = indicator.innerHTML;
Â  Â  Â  Â  Â  Â  indicator.innerHTML = 'ğŸ”„';
Â  Â  Â  Â  Â  Â  indicator.classList.add('status-loading');
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  statusDiv.innerHTML = `â³ ĞĞ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑÑƒ Ñ€ÑĞ´ĞºĞ° ${sheetRow} Ñƒ ĞºĞ¾Ğ»Ğ¾Ğ½Ñ†Ñ– ${targetColumn}...`;
Â  Â  Â  Â  Â  Â  statusDiv.style.display = 'block';

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const formData = new FormData();
Â  Â  Â  Â  Â  Â  Â  Â  formData.append('updateConfig', '1');
Â  Â  Â  Â  Â  Â  Â  Â  formData.append('row', sheetRow);Â 
Â  Â  Â  Â  Â  Â  Â  Â  formData.append('status', newStatus);
                // ĞĞĞ’ĞĞ•: ĞŸĞµÑ€ĞµĞ´Ğ°ĞµĞ¼ Ğ² GAS Ğ½Ğ¾Ğ¼ĞµÑ€ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
                formData.append('column', targetColumn); 

Â  Â  Â  Â  Â  Â  Â  Â  const resp = await fetch(WEBAPP_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: formData
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const responseText = await resp.text();

Â  Â  Â  Â  Â  Â  Â  Â  if (responseText.includes('Success')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.innerHTML = 'âœ… Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾ ÑƒÑĞ¿Ñ–ÑˆĞ½Ğ¾.';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ²ÑÑ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚Ñ€Ğ°Ğ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  await loadConfig();Â 
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error(responseText);
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.innerHTML = `<p style="color: var(--status-error);">âš ï¸ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ¾Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ: ${err.message || 'ĞĞµĞ²Ñ–Ğ´Ğ¾Ğ¼Ğ° Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°'}</p>`;
Â  Â  Â  Â  Â  Â  Â  Â  console.error('ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° POST-Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñƒ:', err);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // ĞÑ‚ĞºĞ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ UI Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞµ
Â  Â  Â  Â  Â  Â  Â  Â  indicator.innerHTML = originalHTML;
Â  Â  Â  Â  Â  Â  Â  Â  indicator.classList.remove('status-loading');
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // Ğ¡ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ
Â  Â  Â  Â  Â  Â  setTimeout(() => { statusDiv.style.display = 'none'; }, 3000);
Â  Â  Â  Â  }
        
        // Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ "ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ñ‚Ğ¸ Email" (ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° E, Ğ¸Ğ½Ğ´ĞµĞºÑ 5)
        async function toggleEmailStatus(sheetRow, currentFlag, event) {
            await updateConfigStatus(sheetRow, currentFlag, 5, event);
        }

        // Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ "ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ñ‚Ğ¸ PUSH" (ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° F, Ğ¸Ğ½Ğ´ĞµĞºÑ 6)
        async function togglePushStatus(sheetRow, currentFlag, event) {
            await updateConfigStatus(sheetRow, currentFlag, 6, event);
        }
        /* --- ĞšĞĞĞ•Ğ¦ ĞĞĞ’Ğ«Ğ¥ Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ™ --- */

        // --- ĞĞ¡ĞĞĞ’ĞĞĞ¯ Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ¯: Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸ ---
        async function loadConfig() {
            const configDiv = document.getElementById('configTableContainer');
            const statusDiv = document.getElementById('configStatus');
            
            statusDiv.innerHTML = 'â³ Ğ—Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ—...';
            statusDiv.style.display = 'block';

            try {
                // Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº GAS Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ JSON
                const resp = await fetch(WEBAPP_URL + '?getConfig=1'); 
                const dataText = await resp.text(); // ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼ TEXT Ğ´Ğ»Ñ CORS
                const data = JSON.parse(dataText);
                
                if (!data || data.length === 0) {
                    configDiv.innerHTML = '<p>ĞšĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ Ñ€Ğ¾Ğ·ÑĞ¸Ğ»ĞºĞ¸ Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ° Ğ°Ğ±Ğ¾ Ğ¿ÑƒÑÑ‚Ğ°.</p>';
                } else {
                    renderConfigTable(data, configDiv);
                }

                statusDiv.style.display = 'none';

            } catch (err) {
                statusDiv.innerHTML = '<p style="color: var(--status-error);">âš ï¸ ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ– ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ—. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ GAS.</p>';
                configDiv.innerHTML = '';
                console.error('ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° ĞºĞ¾Ğ½Ñ„Ñ–Ğ³ÑƒÑ€Ğ°Ñ†Ñ–Ñ—:', err);
            }
        }

        // --- Ğ˜Ğ—ĞœĞ•ĞĞ•ĞĞ˜Ğ•: Ğ ĞµĞ½Ğ´ĞµÑ€Ğ¸Ğ½Ğ³ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ñ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ñ‹Ğ¼Ğ¸ ÑÑ‚Ğ¸Ğ»ÑĞ¼Ğ¸, ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ¼ Ğ¸ CLICK-Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ¼ ---
        function renderConfigTable(data, container) {
            let html = `
                <h3>ĞĞ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑĞ¿Ğ¾Ğ²Ñ–Ñ‰ĞµĞ½ÑŒ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ñ–Ğ²</h3>
                <div class="table-scroll">
                <table class="config-table">
                    <thead>
                        <tr>
                            <th>ĞšĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡</th>
                            <!-- <th>Email</th> -->
                            <th class="status-col">ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ñ‚Ğ¸ Email</th>
							<th class="status-col">ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ñ‚Ğ¸ PUSH</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            data.forEach((row, index) => {
                const isEmailActive = row.flag === '1';
                const isPushActive = row.flagP === '1'; 
                // ĞĞ¾Ğ¼ĞµÑ€ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ Ğ² Google Sheet: index + 2 (Ñ‚.Ğº. Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ Ñ A2)
                const sheetRow = index + 2; 

				// Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Email (ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° E)
Â  Â  Â  Â  Â  Â  Â  Â  const emailIcon = isEmailActive ? 'ğŸŸ¢' : 'ğŸ”´';
Â  Â  Â  Â  Â  Â  Â  Â  const emailClass = isEmailActive ? 'active' : 'inactive';
                
                // Ğ­Ğ»ĞµĞ¼ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Push (ĞšĞ¾Ğ»Ğ¾Ğ½ĞºĞ° F)
                const pushIcon = isPushActive ? 'ğŸŸ¢' : 'ğŸ”´';
                const pushClass = isPushActive ? 'active' : 'inactive';

                html += `
                     <tr class="row-${isEmailActive ? 'active' : 'inactive'}">
                        <td>${row.user_a}</td>
                        <!-- <td class="email-col">${row.email}</td> -->
                        <td class="status-col">
                            <span class="status-indicator status-${emailClass}" 
                                  onclick="toggleEmailStatus(${sheetRow}, '${row.flag}', event)">
                                ${emailIcon} ${isEmailActive ? 'Ğ¢Ğ°Ğº' : 'ĞÑ–'}
                            </span>
                        </td>
						<td class="status-col">
                            <span class="status-indicator status-${pushClass}" 
                                  onclick="togglePushStatus(${sheetRow}, '${row.flagP}', event)">
                                 ${pushIcon} ${isPushActive ? 'Ğ¢Ğ°Ğº' : 'ĞÑ–'}
                            </span>
                        </td>
                    </tr>
                `;
            });

            html += `</tbody></table></div>`;
            container.innerHTML = html;
            
            // Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹, ĞµÑĞ»Ğ¸ Ğ¾Ğ½Ğ¸ Ğ½Ğµ Ğ² style.css
            const style = document.createElement('style');
            style.innerHTML = `
                .config-table {
                    width: 100%;
                    border-collapse: collapse;
                    font-size: 0.9rem;
                }
                .config-table th, .config-table td {
                    padding: 10px 8px;
                    border: 1px solid var(--table-border);
                    text-align: left;
                }
                .config-table thead th {
                    background-color: var(--table-th-bg);
                    color: var(--text-color);
                    text-align: center;
                }
                .config-table tbody tr:nth-child(even) {
                    background-color: var(--table-row-alt);
                }
                .config-table tbody tr:hover {
                    background-color: var(--table-hover);
                }
                .config-table .status-col {
                    text-align: center;
                    width: 25%;
                }
                .status-indicator {
                    font-weight: bold;
                    display: inline-block;
                    padding: 4px 8px;
                    border-radius: 4px;
                    cursor: pointer; /* Ğ”ĞµĞ»Ğ°ĞµĞ¼ ÑĞ»ĞµĞ¼ĞµĞ½Ñ‚ ĞºĞ»Ğ¸ĞºĞ°Ğ±ĞµĞ»ÑŒĞ½Ñ‹Ğ¼ */
                    transition: background-color 0.2s;
                }
                .status-indicator:hover {
                    filter: brightness(1.1);
                }
                .status-loading {
                    pointer-events: none; /* ĞÑ‚ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ ĞºĞ»Ğ¸ĞºĞ¸ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ */
                    opacity: 0.6;
                }
                .status-active {
                    background-color: rgba(46, 125, 50, 0.2); /* Green tint */
                    color: var(--status-success);
                }
                .status-inactive {
                    background-color: rgba(198, 40, 40, 0.2); /* Red tint */
                    color: var(--status-error);
                }
                .row-active {
                    /* ĞŸĞ¾Ğ´ÑĞ²ĞµÑ‚ĞºĞ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸ */
                    border-left: 4px solid var(--status-success);
                }
            `;
            document.head.appendChild(style);
        }

        // --- Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ---
        window.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('theme') === 'dark') {
                document.body.classList.add('dark');
            }            
            loadConfig();
        });
    </script>
</body>
</html>
